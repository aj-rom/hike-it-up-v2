(this["webpackJsonphike-it-up-v2"]=this["webpackJsonphike-it-up-v2"]||[]).push([[0],{38:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),s=r(19),i=r.n(s),a=r(6),o=r(7),l=r(9),u=r(8),h=r(5),d=r(10),j=[{name:"Ruby On Rails",desc:"Used for backend infrastructure and API. Handles HTTP requests and powers everything under the hood.",url:"https://rubyonrails.org",alt:"ruby-on-rails",src:"https://img.icons8.com/color/48/000000/ruby-programming-language.png"},{name:"React.js",desc:"Used for the frontend website. This handles structuring our API data from the backend and allows us to create a beautiful user interface easily.",url:"https://reactjs.org/",alt:"react.js",src:"https://img.icons8.com/office/480/000000/react.png"},{name:"Pico.css",desc:"Framework used for styling all of this application, using both their CSS classes and classless version.",url:"https://picocss.com/",alt:"pico css image",src:"https://img.icons8.com/ios-filled/50/4a90e2/css.png"},{name:"Icons8",desc:"Used to get these icons for completely free.",url:"https://icons8.com",alt:"icons eight",src:"https://img.icons8.com/clouds/200/000000/icons8-new-logo.png"}],b=r(0);function O(e){return Object(b.jsx)("a",{href:e.url,children:Object(b.jsx)("img",{src:e.src,alt:e.alt,style:{minWidth:25,maxWidth:50,width:"auto",height:"auto"}})})}function p(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)(O,{alt:e.alt,src:e.src,url:e.url})}),Object(b.jsx)("td",{children:e.name}),Object(b.jsx)("td",{children:e.desc})]})}function x(){return Object(b.jsxs)("section",{children:[Object(b.jsx)("header",{children:Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h3",{children:"FrameWorks Used"}),Object(b.jsx)("h5",{children:"A comprehensive list of every open-source library used in this project."})]})}),Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Link"}),Object(b.jsx)("th",{children:"Framework"}),Object(b.jsx)("th",{children:"Usage Description"})]})}),Object(b.jsxs)("tbody",{children:[" ",j.sort((function(e){return e.name})).map((function(e){var t=e.name,r=e.url,n=e.desc,c=e.alt,s=e.src;return Object(b.jsx)(p,{name:t,url:r,desc:n,alt:c,src:s})}))," "]})]})]})}var f=function(){return Object(b.jsx)("a",{href:"https://hike-it-up.herokuapp.com",children:"hike-it-up"})},g=function(){return Object(b.jsx)("a",{href:"https://flatironschool.com",children:"The Flatiron School"})},m=function(){return Object(b.jsx)("a",{href:"https://reactjs.org/docs/create-a-new-react-app.html",children:"create-react-app"})},v=function(){return Object(b.jsxs)("article",{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h5",{children:"Development Process"}),Object(b.jsxs)("h6",{children:["Some background on how ",Object(b.jsx)("b",{children:"hike-it-up"})," was created."]})]}),Object(b.jsxs)("summary",{className:"grid",children:[Object(b.jsxs)("p",{children:["I first started by laying out the architecture of the ",Object(b.jsx)("b",{children:"Ruby On Rails"})," backend. I needed to get a couple of things situated:",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Setup PostgreSQL for our database"}),Object(b.jsxs)("li",{children:["Create object models and relations through ",Object(b.jsx)("b",{children:"Active Record"})]}),Object(b.jsxs)("li",{children:["Declare ",Object(b.jsx)("i",{children:"routes"})," and ",Object(b.jsx)("i",{children:"controllers"})," for handling incoming requests."]})]}),"Next, I wrote some simple tests to ensure that everything was working as it should. Once I had the basic structure of the backend up and running, I could then start creating the frontend."]}),Object(b.jsxs)("p",{children:["I started by utilizing the ",Object(b.jsx)(m,{})," toolchain to generate a new React application. Next, I decided to go ahead and install ",Object(b.jsx)("b",{children:"ReactRouter"})," and ",Object(b.jsx)("b",{children:"Redux"})]})]})]})},y=function(){return Object(b.jsxs)("article",{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h5",{children:"My Motivation"}),Object(b.jsxs)("h6",{children:["Some background on why ",Object(b.jsx)("b",{children:"hike-it-up"})," was created."]})]}),Object(b.jsxs)("summary",{className:"grid",children:[Object(b.jsxs)("p",{children:["I first created ",Object(b.jsx)(f,{})," as a basic sinatra application. After progressing a long way through ",Object(b.jsx)(g,{}),", I wanted to test my knowledge by utilizing ",Object(b.jsx)("b",{children:"React & Redux"}),", as well as ",Object(b.jsx)("b",{children:"Ruby on Rails"})," to build a functional web application.",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"Thus why I ended up re-creating ",Object(b.jsx)(f,{}),", and utilizing all the nice state management and DOM manipulation aspects of React & Redux.",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"All in all I feel as if this was a great test of my abilities of having seamless interaction between frontend and backend servers, and I am happy with the final result."]}),Object(b.jsxs)("p",{children:["One large portion of modern day web applications focus on ",Object(b.jsx)("b",{children:"Mobile First Development"}),", ensuring that the application looks and functions correctly on mobile devices. This also must ",Object(b.jsx)("i",{children:"scale up"})," to larger devices, such as laptops, desktop, and tablets. Which can sometimes be a headache.",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"I was driven to achieve this so decided to use ",Object(b.jsx)("b",{children:"PicoCSS"}),", which allowed me to add customization as well as simple implementation of a friendly ",Object(b.jsx)("b",{children:"Mobile First"})," application."]})]})]})};function R(){return Object(b.jsxs)("section",{id:"about",children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h2",{children:"About"}),Object(b.jsx)("h4",{children:"A little bit about this project."})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)(y,{}),Object(b.jsx)(v,{})]}),Object(b.jsx)(x,{})]})}function _(){return Object(b.jsxs)("article",{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h3",{children:"Theme"}),Object(b.jsx)("h5",{children:"Change the theme of the website."})]}),Object(b.jsx)("fieldset",{children:Object(b.jsxs)("label",{htmlFor:"switch",children:[Object(b.jsx)("input",{type:"checkbox",id:"switch",name:"switch",role:"switch",onChange:function(){var e=document.querySelector("html"),t=e.dataset.theme;return e.dataset.theme="light"===t?"dark":"light",e}}),"Switch Theme"]})})]})}var L=r(4),k="https://hike-it-up-v2.herokuapp.com/",w=function(e){return{type:"ERROR",error:e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0;return{method:e,headers:{"Content-Type":"application/json",Origin:"https://aj-rom.github.io"},body:JSON.stringify(t)}},I=function(e){return function(t){return t({type:"LOADING"}),fetch("".concat(k,"users/").concat(e)).then((function(e){return e.json()})).then((function(e){return function(e){e.errors?t({type:"ERROR",error:e.error}):t({type:"SET_USER",user:e})}(e)}))}},C=Object(b.jsx)("article",{"aria-busy":"true",className:"on-load",children:"Loading..."}),S=function(){return{type:"LOG_OUT"}},A=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).handleLogOut=function(t){t.preventDefault(),e.props.logOut(),alert("You have been logged out.")},e.getSignOutButton=function(){return Object(b.jsx)("button",{onClick:e.handleLogOut,children:"Sign Out"})},e.handleDeleteAccount=function(t){t.preventDefault();var r={id:e.props.user_id,auth_token:e.props.auth_token};e.props.deleteUser(r),alert("You have successfully deleted your account.")},e.getDeleteAccountButton=function(){return Object(b.jsx)("button",{className:"contrast",onClick:e.handleDeleteAccount,children:"Delete Account"})},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchUser(this.props.user_id)}},{key:"render",value:function(){var e=this.props,t=e.error,r=e.isLoaded,n=e.user;return t?Object(b.jsxs)("div",{className:"error",children:[t,"..."]}):r?Object(b.jsxs)("article",{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h2",{children:n.email}),Object(b.jsx)("h4",{children:n.trail_count})]}),Object(b.jsxs)("p",{children:["Start Posting new trails ",Object(b.jsx)(h.b,{to:"/trails/new",children:"here"})]}),Object(b.jsxs)("div",{className:"grid",children:[this.getSignOutButton(),this.getDeleteAccountButton()]})]}):C}}]),r}(n.Component),E=Object(L.b)((function(e){return{errors:e.userReducer.errors,isLoaded:e.userReducer.isLoaded,user:e.userReducer.user}}),{fetchUser:I,logOut:S})(A),D=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return this.props.isLoggedIn?Object(b.jsx)(E,{user_id:this.props.id,logOut:this.props.logOut,fetchUser:this.props.fetchUser,deleteUser:this.props.deleteUser,auth_token:this.props.auth_token}):Object(b.jsxs)("article",{children:[Object(b.jsx)("h3",{children:"Account"}),Object(b.jsxs)("p",{children:[Object(b.jsx)(h.b,{to:"/login",children:"Login"})," or ",Object(b.jsx)(h.b,{to:"/signup",children:"Sign Up"})," to get started posting trails!",Object(b.jsx)("br",{}),"Otherwise, feel free to check out all of the trails right ",Object(b.jsx)(h.b,{to:"/trails",children:"here"}),"."]})]})}}]),r}(n.Component),N=Object(L.b)((function(e){return{isLoggedIn:e.accountReducer.isLoggedIn,id:e.accountReducer.id,auth_token:e.accountReducer.auth_token}}),{fetchUser:I,deleteUser:function(e){var t=T("DELETE",e);return function(r){return fetch("".concat(k,"users/").concat(e.id),t).then((function(e){var t;(t=e).errors?r({type:"ERROR",errors:t.errors}):r({type:"LOG_OUT"})})).catch((function(e){return w(e)}))}},logOut:S})(D);function U(){return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h2",{children:"Home"}),Object(b.jsx)("h4",{children:"View your Account"})]}),Object(b.jsx)(N,{}),Object(b.jsx)(_,{})]})}var F="".concat(k,"trails/"),P=function(e,t,r){var n=T("PATCH",{trail:e,auth_token:t});return function(t){fetch(F+e.id,n).then((function(e){return e.json()})).then((function(e){return function(e){void 0!==e.id?(t({type:"UPDATE_TRAIL",trail:e}),r(e.id)):t({type:"ERROR",errors:e})}(e)})).catch((function(e){return w(e)}))}},q=function(e){var t=e.trail;return Object(b.jsxs)("article",{className:"trail-card",children:[Object(b.jsx)("header",{children:Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h3",{children:t.name}),Object(b.jsxs)("h5",{children:["Open ",t.open_at," - ",t.close_at,Object(b.jsx)("br",{}),t.formatted_address]})]})}),Object(b.jsx)("p",{children:t.description}),Object(b.jsx)(h.b,{to:"/trails/".concat(t.id),children:"More Info"})]})},H=r(14),M=(n.Component,function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchTrails()}},{key:"renderTrails",value:function(){return this.props.trails.map((function(e){return Object(b.jsx)(q,{trail:e},e.id)}))}},{key:"render",value:function(){var e=this.props,t=e.errors,r=e.isLoaded;return t?Object(b.jsxs)("div",{className:"error",children:[t,"..."]}):r?Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h2",{children:"All Trails"}),Object(b.jsx)("h4",{children:"View and Search all Trails"})]}),Object(b.jsx)("section",{id:"trails",children:this.renderTrails()})]}):C}}]),r}(n.Component)),G=Object(L.b)((function(e){return{trails:e.trailsReducer.trails,isLoaded:e.trailsReducer.isLoaded,error:e.trailsReducer.error}}),{fetchTrails:function(){return function(e){return fetch(F).then((function(e){return e.json()})).then((function(t){return function(t){return t.errors?e({type:"ERROR",errors:t.errors}):e({type:"FETCH_TRAILS",trails:t})}(t)})).catch((function(e){return w(e)}))}}})(M),z=function(e){var t=e.address;return Object(b.jsx)("iframe",{title:"map",width:"100%",height:"100%",style:{border:0,minHeight:500},loading:"lazy",allowFullScreen:!0,src:"https://www.google.com/maps/embed/v1/place?&q=".concat(t,"&zoom=").concat(15,"&key=").concat("AIzaSyAUosZLqgJn74QbHeeY9yTF91TphLJuR8Q")})};function J(e){var t=e.trail,r=e.isOwner,n=Object(d.g)(),c=function(r){r.preventDefault(),e.delete(t,e.auth_token),alert("Trail has been deleted."),n.push("/trails")};return Object(b.jsxs)("article",{children:[Object(b.jsx)("header",{children:Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h1",{children:t.name}),Object(b.jsxs)("h2",{children:[t.open_at," ",t.close_at]})]})}),Object(b.jsxs)("section",{children:[Object(b.jsx)("h4",{children:"Description"}),Object(b.jsx)("p",{children:t.description})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("h4",{children:"Location"}),Object(b.jsx)(z,{address:t.formatted_address})]}),function(){if(r){var e=Object(b.jsx)(h.b,{to:"/trails/".concat(t.id,"/edit"),children:Object(b.jsx)("button",{children:"Edit Information"})}),n=Object(b.jsx)("button",{className:"contrast",onClick:c,children:"Delete Trail"});return Object(b.jsxs)("section",{children:[Object(b.jsx)("h4",{children:"Manage"}),Object(b.jsxs)("div",{className:"grid",children:[e,n]})]})}}()]})}var B=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchTrail(e)}},{key:"render",value:function(){var e=this.props,t=e.errors,r=e.isLoaded,n=e.trail;if(t.length>0)return Object(b.jsxs)("article",{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h3",{children:"An Error Has Occurred"}),Object(b.jsx)("h5",{children:t[0]})]}),Object(b.jsx)(h.b,{to:"/trails",children:"Return to Main Page"})]});if(r){var c=this.props.user_id===n.user_id;return c?Object(b.jsx)(J,{trail:n,isOwner:c,edit:this.props.editTrail,delete:this.props.deleteTrail,auth_token:this.props.auth_token}):Object(b.jsx)(J,{trail:n,isOwner:!1})}return C}}]),r}(n.Component),V=Object(d.h)(Object(L.b)((function(e){return{errors:e.trailsReducer.errors,isLoaded:e.trailsReducer.isLoaded,trail:e.trailsReducer.trail,isLoggedIn:e.accountReducer.isLoggedIn,user_id:e.accountReducer.id,auth_token:e.accountReducer.auth_token}}),{fetchTrail:function(e){return function(t){return fetch(F+e).then((function(e){return e.json()})).then((function(e){return function(e){e.error?t({type:"ERROR",errors:[e.error]}):t({type:"FETCH_TRAIL",trail:e})}(e)})).catch((function(e){return w(e)}))}},deleteTrail:function(e,t){var r=T("DELETE",{trail:e,auth_token:t});return function(t){fetch(F+e.id,r).then((function(e){return e.json()})).then((function(e){return function(e){200===e._status?t({type:"DELETE_TRAIL",id:e.trail.id}):t({type:"ERROR",errors:e})}(e)})).catch((function(e){return w(e)}))}},editTrail:P})(B)),W=r(2),Q=function(e){var t=e.errors;return Object(b.jsx)("ul",{id:"errors",children:t.map((function(e,t){return Object(b.jsx)("li",{children:e},t)}))})},Y={name:"",description:"",open_at:"",close_at:"",address_attributes:{street:"",city:"",state:"",zipcode:""}},X=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).handleChange=function(e){var t=e.target,r=t.name,c=t.value;Object.keys(Y).includes(r)?n.setState(Object(W.a)(Object(W.a)({},n.state),{},Object(H.a)({},r,c))):n.setState(Object(W.a)(Object(W.a)({},n.state),{},{address_attributes:Object(W.a)(Object(W.a)({},n.state.address_attributes),{},Object(H.a)({},r,c))}))},n.handleSubmit=function(e){e.preventDefault(),n.props.createTrail(n.state,n.props.auth_token,(function(e){console.log("Trail Created At:","http://localhost/3000/trails/".concat(e)),n.props.history.push("/trails/".concat(e)),n.setState(Y)}))},e.trail?n.state=e.trail:n.state=Y,n}return Object(o.a)(r,[{key:"errorField",value:function(){if(0!==this.props.errors.length)return Object(b.jsx)(Q,{errors:this.props.errors})}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.errorField(),Object(b.jsxs)("article",{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h3",{children:"Basic Information"}),Object(b.jsx)("h4",{children:"Information regarding the trails name, the hours of operation, and anything else you want to add."})]}),Object(b.jsxs)("label",{children:["Trail Name",Object(b.jsx)("input",{type:"text",name:"name",onChange:this.handleChange,value:this.state.name,required:!0,minLength:3,maxLength:100})]}),Object(b.jsxs)("label",{children:["Description",Object(b.jsx)("textarea",{name:"description",onChange:this.handleChange,value:this.state.description,required:!0,maxLength:"300",minLength:"15"})]}),Object(b.jsxs)("div",{className:"grid",children:[Object(b.jsxs)("label",{children:["Open Time",Object(b.jsx)("input",{name:"open_at",type:"time",onChange:this.handleChange,value:this.state.open_at,required:!0})]}),Object(b.jsxs)("label",{children:["Close Time",Object(b.jsx)("input",{name:"close_at",type:"time",onChange:function(t){return e.handleChange(t)},value:this.state.close_at,required:!0})]})]})]}),Object(b.jsxs)("article",{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h3",{children:"Address"}),Object(b.jsx)("h4",{children:"Information on where to find this trail."})]}),Object(b.jsxs)("label",{children:["Street",Object(b.jsx)("input",{name:"street",type:"text",onChange:this.handleChange,value:this.state.address_attributes.street,required:!0})]}),Object(b.jsxs)("div",{className:"grid",children:[Object(b.jsxs)("label",{children:["City",Object(b.jsx)("input",{name:"city",type:"text",onChange:this.handleChange,value:this.state.address_attributes.city,required:!0,minLength:2})]}),Object(b.jsxs)("label",{children:["State",Object(b.jsx)("input",{name:"state",type:"text",onChange:this.handleChange,value:this.state.address_attributes.state,required:!0,minLength:2,maxLength:2})]})]}),Object(b.jsxs)("label",{children:["Zip Code",Object(b.jsx)("input",{name:"zipcode",type:"number",onChange:this.handleChange,value:this.state.address_attributes.zipcode,required:!0,min:1e4,max:99999})]})]}),Object(b.jsxs)("div",{className:"grid",children:[Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"submit",value:this.props.submitValue}),Object(b.jsx)("br",{})]})]})}}]),r}(n.Component),Z=Object(L.b)((function(e){return{errors:e.trailsReducer.errors,trails:e.trailsReducer.trails}}),null)(X),K=Object(L.b)((function(e){return{auth_token:e.accountReducer.auth_token}}),{createTrail:function(e,t,r){delete e.errors;var n=T("POST",{trail:e,auth_token:t});return function(e){return fetch(F,n).then((function(e){return e.json()})).then((function(t){return function(t){void 0===t.id?e({type:"ERROR",errors:t.error}):(e({type:"ADD_TRAIL",trail:t}),r(t.id))}(t)})).catch((function(e){return w(e)}))}}})((function(e){var t=Object(d.g)();return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h1",{children:"Add a Trail"}),Object(b.jsx)("h3",{children:"Post trails you've been on!"})]}),Object(b.jsx)(Z,{history:t,auth_token:e.auth_token,createTrail:e.createTrail,submitValue:"Create Trail"})]})})),$=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var n;Object(a.a)(this,r),(n=t.call(this,e)).handleChange=function(e){var t=e.target,r=t.name,c=t.value;n.setState(Object(W.a)(Object(W.a)({},n.state),{},Object(H.a)({},r,c)))},n.handleSubmit=function(e){e.preventDefault(),n.props.includeConfirmation?n.state.password===n.state.password_confirmation?(n.props.onSubmit(n.state),n.setState({email:"",password:"",password_confirmation:""})):alert("Passwords do not match!"):(n.props.onSubmit(n.state),n.setState({email:"",password:""}))};var c={email:"",password:""};return e.includeConfirmation?n.state=Object(W.a)(Object(W.a)({},c),{},{password_confirmation:""}):n.state=c,n}return Object(o.a)(r,[{key:"includesConfirmation",value:function(){if(this.props.includeConfirmation)return Object(b.jsx)("fieldset",{children:Object(b.jsxs)("label",{children:["Password Conformation",Object(b.jsx)("input",{type:"password",name:"password_confirmation",value:this.state.password_confirmation,onChange:this.handleChange,required:!0,minLength:6})]})})}},{key:"render",value:function(){return Object(b.jsx)("article",{children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.props.errors?Object(b.jsx)(Q,{errors:this.props.errors},this.props.errors.length):null,Object(b.jsx)("fieldset",{children:Object(b.jsxs)("label",{children:["Email Address",Object(b.jsx)("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0})]})}),Object(b.jsxs)("div",{className:"grid",children:[Object(b.jsx)("fieldset",{children:Object(b.jsxs)("label",{children:["Password",Object(b.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,required:!0,minLength:6})]})}),this.includesConfirmation()]}),Object(b.jsx)("input",{type:"submit",value:"Login"})]})})}}]),r}(n.Component),ee=Object(L.b)((function(e){return{errors:e.accountReducer.errors}}))($),te=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h1",{children:"Log In"}),Object(b.jsxs)("h3",{children:["Log in to your account or ",Object(b.jsx)(h.b,{to:"/signup",children:"Sign Up"})," to get started."]})]}),Object(b.jsx)(ee,{onSubmit:this.props.authenticate,includeConfirmation:!1})]})}}]),r}(n.Component),re={authenticate:function(e){var t=T("POST",{user:e});return function(e){return fetch("".concat(k,"sign_in"),t).then((function(e){return e.json()})).then((function(t){var r;(r=t).errors?e({type:"ERROR",errors:r.errors}):e({type:"LOG_IN",id:r.id,auth_token:r.auth_token})})).catch((function(e){return w(e)}))}}},ne=Object(L.b)(null,re)(te),ce=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsx)("h1",{children:"Sign Up"}),Object(b.jsx)("h3",{children:"Create an Account to post new trails."})]}),Object(b.jsx)(ee,{includeConfirmation:!0,onSubmit:this.props.signUp})]})}}]),r}(n.Component),se={signUp:function(e){var t=T("POST",{user:e});return function(e){return fetch("".concat(k,"sign_up"),t).then((function(e){return e.json()})).then((function(t){var r;(r=t).errors?e({type:"ERROR",errors:r.errors}):e({type:"LOG_IN",id:r.id,auth_token:r.auth_token})})).catch((function(e){return w(e)}))}}},ie=Object(L.b)(null,se)(ce),ae=Object(L.b)((function(e){return{auth_token:e.accountReducer.auth_token,trail:e.trailsReducer.trail}}),{editTrail:P})((function(e){var t=Object(d.g)();return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsxs)("hgroup",{children:[Object(b.jsxs)("h1",{children:["Edit ",e.trail.name]}),Object(b.jsx)("h3",{children:"Change information regarding this trail."})]}),Object(b.jsx)(Z,{history:t,auth_token:e.auth_token,createTrail:e.editTrail,trail:e.trail,submitValue:"Edit Trail"})]})})),oe=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"redirectToIfNotLogged",value:function(e,t,r){return e?r:Object(b.jsx)(d.a,{to:t})}},{key:"redirectToIfLogged",value:function(e,t,r){return e?Object(b.jsx)(d.a,{to:t}):r}},{key:"redirectHomeIfLogged",value:function(e,t){return this.redirectToIfLogged(e,"/",t)}},{key:"render",value:function(){var e=this.props.isLoggedIn;return Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{exact:!0,path:"/about",children:Object(b.jsx)(R,{})}),Object(b.jsx)(d.b,{exact:!0,path:"/login",children:this.redirectHomeIfLogged(e,Object(b.jsx)(ne,{}))}),Object(b.jsx)(d.b,{exact:!0,path:"/signup",children:this.redirectHomeIfLogged(e,Object(b.jsx)(ie,{}))}),Object(b.jsx)(d.b,{exact:!0,path:"/trails",children:Object(b.jsx)(G,{})}),Object(b.jsx)(d.b,{exact:!0,path:"/trails/new",children:this.redirectToIfNotLogged(e,"/login",Object(b.jsx)(K,{}))}),Object(b.jsx)(d.b,{exact:!0,path:"/trails/:id",children:Object(b.jsx)(V,{})}),Object(b.jsx)(d.b,{exact:!0,path:"/trails/:id/edit",children:this.redirectToIfNotLogged(e,"/trails",Object(b.jsx)(ae,{}))}),Object(b.jsx)(d.b,{exact:!0,path:"/",children:Object(b.jsx)(U,{})})]})}}]),r}(n.Component),le=Object(L.b)((function(e){return{isLoggedIn:e.accountReducer.isLoggedIn}}),null)(oe),ue=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return Object(b.jsx)(h.a,{baseName:"hike-it-up-v2",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(h.c,{to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(h.c,{to:"/trails",children:"Trails"})}),Object(b.jsx)("li",{children:Object(b.jsx)(h.c,{to:"/about",children:"About"})}),Object(b.jsx)("li",{children:this.props.isLoggedIn?null:Object(b.jsx)(h.c,{to:"/login",children:"Log In"})})]})}),Object(b.jsx)(le,{})]})})}}]),r}(n.Component),he=Object(L.b)((function(e){return{isLoggedIn:e.accountReducer.isLoggedIn}}),null)(ue),de=r(26),je=r(16),be={id:null,auth_token:"",errors:[],isLoggedIn:!1},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return{id:t.id,auth_token:t.auth_token,isLoggedIn:!0};case"ERROR":return Object(W.a)(Object(W.a)({},e),{},{errors:t.errors});case"LOG_OUT":return localStorage.clear(),Object(W.a)({},be);default:return e}},pe=r(27),xe={trail:{},trails:[],query:"",isLoaded:!1,errors:[]},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_TRAILS":return Object(W.a)(Object(W.a)({},e),{},{trails:e.trails,isLoaded:!1});case"ADD_TRAIL":return Object(W.a)(Object(W.a)({},e),{},{trails:[].concat(Object(pe.a)(e.trails),[t.trail]),isLoaded:!0,errors:[]});case"FETCH_TRAILS":return Object(W.a)(Object(W.a)({},e),{},{trails:t.trails,isLoaded:!0,errors:[]});case"LOADING_TRAIL":return Object(W.a)(Object(W.a)({},e),{},{trail:e.trail,isLoaded:!1});case"FETCH_TRAIL":return Object(W.a)(Object(W.a)({},e),{},{trail:t.trail,isLoaded:!0,errors:[]});case"UPDATE_TRAIL":for(var r in e.trails)if(e.trails[r].id===t.trail.id){e.trails[r]=t.trail;break}return Object(W.a)(Object(W.a)({},e),{},{trails:e.trails,trail:t.trail,isLoaded:!0,errors:[]});case"ERROR":return Object(W.a)(Object(W.a)({},e),{},{errors:t.errors,isLoaded:!1});default:return e}},ge={user:{email:"",trail_count:null},error:"",isLoaded:!1},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(W.a)(Object(W.a)({},e),{},{isLoaded:!1});case"SET_USER":return Object(W.a)(Object(W.a)({},e),{},{user:t.user,isLoaded:!0});case"ERROR":return Object(W.a)(Object(W.a)({},e),{},{error:t.error});default:return e}},ve=Object(je.b)({trailsReducer:fe,accountReducer:Oe,userReducer:me});var ye=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||je.c,Re=function(){var e=localStorage.getItem("state");if(null!==e)return JSON.parse(e)}(),_e=Object(je.d)(ve,Re,ye(Object(je.a)(de.a)));_e.subscribe((function(){return function(e){var t=JSON.stringify(e);localStorage.setItem("state",t)}(_e.getState())}));var Le=_e;i.a.render(Object(b.jsxs)(L.a,{store:Le,children:[Object(b.jsx)(he,{}),Object(b.jsxs)("p",{children:["Made with \u2764\ufe0f by ",Object(b.jsx)("a",{href:"https://github.com/aj-rom",children:"A.J. Romaniello"})]})]}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.51d5b765.chunk.js.map